{"version":3,"sources":["webpack:///webpack/bootstrap f60331904855f80a3875","webpack:///./packages/rax-text/src/index.js","webpack:///mod) { try { mod = require(\\\"rax\\\") } catch(e) {} }return mod;})()\"","webpack:///./packages/universal-env/lib/index.js"],"names":["Text","renderText","props","nativeProps","style","textString","children","Array","isArray","toString","join","context","isInAParentText","onPress","onClick","numberOfLines","lines","value","styleProps","styles","text","parseInt","whiteSpace","display","webkitBoxOrient","webkitLineClamp","String","overflow","renderRichText","richtext","transformChildren","nested","i","length","child","propTypes","contextTypes","bool","childContextTypes","transformChild","instance","ChildComponent","type","childInstance","getChildContext","render","elements","push","border","position","boxSizing","flexDirection","alignContent","flexShrink","fontSize","marginTop","marginBottom","Object","defineProperty","exports","_typeof","Symbol","iterator","obj","constructor","prototype","isWeb","navigator","appCodeName","product","isNode","process","versions","node","isWeex","callNative","isReactNative","__fbBatchedBridgeConfig","module","default"],"mappings":"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","file":"text.factory.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f60331904855f80a3875","import {Component, createElement, PropTypes} from 'rax';\nimport {isWeex} from 'universal-env';\n\nclass Text extends Component {\n\n  static propTypes = {};\n\n  static contextTypes = {\n    isInAParentText: PropTypes.bool\n  };\n\n  static childContextTypes = {\n    isInAParentText: PropTypes.bool\n  };\n\n  getChildContext() {\n    return {\n      isInAParentText: true\n    };\n  }\n\n  render() {\n    const props = this.props;\n    let {children} = props;\n    if (!Array.isArray(children)) {\n      children = [children];\n    }\n\n    let nested = false;\n    for (let i = 0; i < children.length; i++) {\n      let child = children[i];\n      if (child && typeof child === 'object') {\n        nested = true;\n        break;\n      }\n    }\n\n    return nested ? this.renderRichText() : this.renderText();\n  }\n\n  renderText = () => {\n    let props = this.props;\n    let nativeProps = {\n      ...props,\n      ...{\n        style: props.style || {},\n      },\n    };\n\n    let textString = '';\n    if (props.children != null) {\n      if (!Array.isArray(props.children)) {\n        textString = props.children.toString();\n      } else {\n        textString = props.children.join('');\n      }\n    }\n\n    if (this.context.isInAParentText) {\n      return <span {...nativeProps}>{textString}</span>;\n    }\n\n    if (props.onPress) {\n      nativeProps.onClick = props.onPress;\n    }\n\n    if (isWeex) {\n      if (props.numberOfLines) {\n        nativeProps.style.lines = props.numberOfLines;\n      }\n\n      nativeProps.value = textString;\n\n      return <text {...nativeProps} />;\n    } else {\n      let styleProps = {\n        ...styles.text,\n        ...nativeProps.style\n      };\n      let numberOfLines = props.numberOfLines;\n      if (numberOfLines) {\n        if (parseInt(numberOfLines) === 1) {\n          styleProps.whiteSpace = 'nowrap';\n        } else {\n          styleProps.display = '-webkit-box';\n          styleProps.webkitBoxOrient = 'vertical';\n          styleProps.webkitLineClamp = String(numberOfLines);\n        }\n\n        styleProps.overflow = 'hidden';\n      }\n\n      return <span {...nativeProps} style={styleProps}>{textString}</span>;\n    }\n  };\n\n  renderRichText = () => {\n    const props = this.props;\n    let {children} = props;\n\n    const nativeProps = {\n      ...props,\n      ...{\n        style: props.style || {},\n      }\n    };\n    const styleProps = {\n      ...styles.richtext,\n      ...nativeProps.style\n    };\n\n    if (isWeex) {\n      children = transformChildren(children, this);\n    }\n\n    return <p {...nativeProps} style={styleProps}>{children}</p>;\n  };\n}\n\nfunction transformChild(child, instance) {\n  const {type: ChildComponent, props} = child;\n  const {children} = props;\n\n  if (typeof ChildComponent === 'function') {\n    let childInstance = new ChildComponent();\n    childInstance.props = props;\n    if (children) {\n      childInstance.props.children = transformChildren(children, instance);\n    }\n    childInstance.context = instance.getChildContext();\n\n    return childInstance.render();\n  } else {\n    return child;\n  }\n}\n\nfunction transformChildren(children, instance) {\n  let elements = [];\n  if (!Array.isArray(children)) {\n    children = [children];\n  }\n\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    if (typeof child === 'string') {\n      elements.push(child);\n    } else if (typeof child === 'object') {\n      elements.push(transformChild(child, instance));\n    }\n  }\n\n  return elements;\n}\n\nconst styles = {\n  text: {\n    border: '0 solid black',\n    position: 'relative',\n    boxSizing: 'border-box',\n    display: 'block',\n    flexDirection: 'column',\n    alignContent: 'flex-start',\n    flexShrink: 0,\n    fontSize: 32\n  },\n  richtext: {\n    marginTop: 0,\n    marginBottom: 0\n  }\n};\n\nexport default Text;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax-text/src/index.js","module.exports = (function(){ var mod;if (!mod) { try { mod = require(\"rax\") } catch(e) {} }return mod;})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"(function(){ var mod;if (!mod) { try { mod = require(\\\"rax\\\") } catch(e) {} }return mod;})()\"\n// module id = 1\n// module chunks = 0 1 2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// https://www.w3.org/TR/html5/webappapis.html#dom-navigator-appcodename\nvar isWeb = exports.isWeb = (typeof navigator === 'undefined' ? 'undefined' : _typeof(navigator)) === 'object' && (navigator.appCodeName === 'Mozilla' || navigator.product === 'Gecko');\nvar isNode = exports.isNode = typeof process !== 'undefined' && !!(process.versions && process.versions.node);\nvar isWeex = exports.isWeex = typeof callNative === 'function';\nvar isReactNative = exports.isReactNative = typeof __fbBatchedBridgeConfig !== 'undefined';\nexports['default'] = module.exports;\nexports.default = module.exports;\n\n\n// WEBPACK FOOTER //\n// ./packages/universal-env/lib/index.js"],"sourceRoot":""}